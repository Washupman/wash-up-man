<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏à‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤ - WashUpMan</title>
  
  <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  
  <style>
    /* --- Base Style --- */
    body { 
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
      padding: 20px; 
      background: #f0f2f5; 
      color: #333; 
      margin: 0;
    }
    .container { 
      max-width: 500px; 
      margin: 20px auto; 
      background: white; 
      padding: 30px; 
      border-radius: 20px; 
      box-shadow: 0 10px 25px rgba(0,0,0,0.05); 
    }
    
    /* --- Header & Logo --- */
    .logo-header {
      display: block;
      margin: 0 auto 25px auto;
      max-width: 200px;
      width: 100%;
      height: auto;
    }
    
    /* --- Form Elements --- */
    .form-group { margin-bottom: 20px; }
    label { 
      display: block; 
      margin-bottom: 8px; 
      font-weight: bold; 
      font-size: 14px; 
      color: #444;
    }
    input, textarea, select { 
      width: 100%; 
      padding: 14px; 
      border: 1px solid #e0e0e0; 
      border-radius: 12px; 
      font-size: 16px; 
      box-sizing: border-box; 
      outline: none; 
      transition: all 0.3s ease;
      background: #fafafa;
    }
    input:focus, textarea:focus, select:focus { 
      border-color: #00b900; 
      background: #fff;
      box-shadow: 0 0 0 4px rgba(0,185,0,0.1);
    }
    
    .help-text {
      font-size: 12px;
      color: #777;
      margin-top: 6px;
      line-height: 1.5;
    }
    
    /* --- Buttons --- */
    .location-btn {
      background: #f8f9fa; 
      color: #007bff; 
      border: 1px dashed #007bff; 
      padding: 12px;
      border-radius: 12px; 
      cursor: pointer; 
      margin-bottom: 10px; 
      font-size: 14px; 
      width: 100%; 
      font-weight: bold;
      transition: 0.3s;
    }
    .location-btn:hover { background: #e7f1ff; }
    
    button#submitBtn { 
      background: #00b900; 
      color: white; 
      padding: 18px; 
      border: none; 
      border-radius: 15px; 
      font-size: 18px; 
      width: 100%; 
      margin-top: 25px; 
      cursor: pointer; 
      font-weight: bold; 
      box-shadow: 0 4px 15px rgba(0,185,0,0.3);
      transition: 0.3s;
    }
    button#submitBtn:active { transform: scale(0.98); }
    button#submitBtn:disabled { background: #ccc; box-shadow: none; cursor: not-allowed; }
    
    /* --- Alerts & Terms --- */
    .photo-alert { 
      background: #fff9e6; 
      color: #856404; 
      padding: 15px; 
      border-radius: 12px; 
      font-size: 13px; 
      border: 1px solid #ffeeba; 
      margin: 20px 0; 
      display: flex; 
      align-items: center; 
      gap: 10px; 
    }
    
    .terms-container { 
      font-size: 14px; 
      margin-top: 20px; 
      display: flex; 
      align-items: flex-start; 
      gap: 10px; 
    }
    .terms-container input { width: auto; margin-top: 4px; cursor: pointer; }
    .terms-link { 
      color: #007bff; 
      text-decoration: underline; 
      cursor: pointer; 
      font-weight: bold; 
    }
    
    .footer-note { 
      text-align: center; 
      font-size: 12px; 
      color: #aaa; 
      margin-top: 20px; 
    }
  </style>
</head>
<body>

<div class="container">
  <img src="https://raw.githubusercontent.com/Washupman/wash-up-man/main/Gemini_Generated_Image_vz4n5tvz4n5tvz4n.png" 
       alt="WashUpMan Logo" 
       class="logo-header">

  <div class="form-group">
    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
    <input type="text" id="name" placeholder="‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å LINE..." required>
  </div>
  
  <div class="form-group">
    <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
    <input type="tel" id="phone" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0812345678" maxlength="10" required>
  </div>
  
  <div class="form-group">
    <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤ (‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô)</label>
    <button type="button" class="location-btn" onclick="askGPS()">üìç ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á (GPS)</button>
    <textarea id="address" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà, ‡∏ã‡∏≠‡∏¢, ‡∏ñ‡∏ô‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î..." required></textarea>
  </div>

  <div class="form-group">
    <label>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
    <textarea id="note" rows="2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏∏‡∏î‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô..."></textarea>
    <div class="help-text">‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏∏‡∏î‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á‡∏ú‡πâ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏°‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏´‡∏ç‡πà, ‡∏ù‡∏≤‡∏Å‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏ï‡∏¥/‡∏õ‡πâ‡∏≠‡∏°‡∏¢‡∏≤‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
  </div>

  <div class="form-group">
    <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
    <select id="serviceType">
      <option value="‡∏ã‡∏±‡∏Å-‡∏û‡∏±‡∏ö">üß∫ ‡∏ã‡∏±‡∏Å-‡∏û‡∏±‡∏ö</option>
      <option value="‡∏ã‡∏±‡∏Å-‡∏£‡∏µ‡∏î">üëî ‡∏ã‡∏±‡∏Å-‡∏£‡∏µ‡∏î</option>
      <option value="‡∏ã‡∏±‡∏Å‡∏£‡∏µ‡∏î+‡∏ã‡∏±‡∏Å‡∏û‡∏±‡∏ö">üëî+üß∫ ‡∏ã‡∏±‡∏Å‡∏£‡∏µ‡∏î + ‡∏ã‡∏±‡∏Å‡∏û‡∏±‡∏ö</option>
    </select>
  </div>
  
  <div class="form-group">
    <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ú‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</label>
    <select id="weight">
      <option value="‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</option>
      <option value="‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 5 ‡∏Å‡∏Å.">‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 5 ‡∏Å‡∏Å.</option>
      <option value="5-10 ‡∏Å‡∏Å.">5-10 ‡∏Å‡∏Å.</option>
      <option value="‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 10 ‡∏Å‡∏Å.">‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 10 ‡∏Å‡∏Å.</option>
    </select>
  </div>

  <div class="form-group">
    <label>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
    <select id="payment">
      <option value="‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î(‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤)">üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</option>
      <option value="‡πÇ‡∏≠‡∏ô‡∏à‡πà‡∏≤‡∏¢(QR code)">üì± ‡πÇ‡∏≠‡∏ô‡∏à‡πà‡∏≤‡∏¢</option>
    </select>
  </div>

  <div class="form-group">
    <label>‡∏ß‡∏±‡∏ô-‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤</label>
    <input type="date" id="pickupDate" required>
    <select id="pickupTime" style="margin-top: 10px;">
      <option value="‡∏£‡∏≠‡∏ö‡πÄ‡∏ä‡πâ‡∏≤ 07.30 - 09.00">üåÖ ‡∏£‡∏≠‡∏ö‡πÄ‡∏ä‡πâ‡∏≤ 07.30 - 09.00</option>
      <option value="‡∏£‡∏≠‡∏ö‡∏™‡∏≤‡∏¢ 09.00 - 10.30">‚òÄÔ∏è ‡∏£‡∏≠‡∏ö‡∏™‡∏≤‡∏¢ 09.00 - 10.30</option>
      <option value="‡∏£‡∏≠‡∏ö‡πÄ‡∏¢‡πá‡∏ô 16.30 - 18.00">üåá ‡∏£‡∏≠‡∏ö‡πÄ‡∏¢‡πá‡∏ô 16.30 - 18.00</option>
      <option value="‡∏£‡∏≠‡∏ö‡∏Ñ‡πà‡∏≥ 18.00 - 19.30">üåÉ ‡∏£‡∏≠‡∏ö‡∏Ñ‡πà‡∏≥ 18.00 - 19.30</option>
      <option value="‡∏£‡∏≠‡∏ö‡∏î‡∏∂‡∏Å 20.00 - 21.30">üåë ‡∏£‡∏≠‡∏ö‡∏î‡∏∂‡∏Å 20.00 - 21.30</option>
    </select>
  </div>

  <div class="photo-alert">
    <span>üì∏</span>
    <span><b>‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</b> ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ñ‡∏∏‡∏á‡∏ú‡πâ‡∏≤‡∏™‡πà‡∏á‡∏°‡∏≤‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</span>
  </div>

  <div class="terms-container">
    <input type="checkbox" id="terms">
    <label for="terms">‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö <span class="terms-link" onclick="showTerms()">‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span></label>
  </div>
  
  <button id="submitBtn">‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
  <p class="footer-note">WashUpMan ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á‡∏ú‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà</p>
</div>

<script>
  // --- 1. Initial Logic ---
  const dateInput = document.getElementById('pickupDate');
  const today = new Date().toISOString().split('T')[0];
  dateInput.setAttribute('min', today);
  dateInput.value = today;

  // --- 2. LIFF Initialization ---
  async function main() {
    try {
      await liff.init({ liffId: "2008812860-trP1QVCC" });
      if (!liff.isLoggedIn()) {
        liff.login();
      } else {
        const profile = await liff.getProfile();
        document.getElementById('name').value = profile.displayName;
      }
    } catch (err) {
      console.error("LIFF Error:", err);
    }
  }

  // --- 3. Functions ---
  function showTerms() {
    alert(
      "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (Terms & Conditions)\n" +
      "----------------------------------\n" +
      "1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤: ‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏£‡∏ì‡∏µ\n" +
      "2. ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô: ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤\n" +
      "3. ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢: ‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡πÄ‡∏ó‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡∏¥‡πâ‡∏ô‡∏ô‡∏±‡πâ‡∏ô\n" +
      "4. ‡∏ú‡πâ‡∏≤‡∏™‡∏µ‡∏ï‡∏Å: ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏£‡∏ì‡∏µ\n" +
      "5. ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: ‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏°. ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤\n" +
      "6. ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢: ‡∏´‡∏≤‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Ç‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ô‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ\n" +
      "7. ‡∏£‡∏≠‡∏¢‡∏ä‡∏≥‡∏£‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏°: ‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏±‡∏Å"
    );
  }

  function askGPS() {
    if (navigator.geolocation) {
      alert("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...");
      navigator.geolocation.getCurrentPosition(function(position) {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const mapUrl = `https://www.google.com/maps?q=${lat},${lon}`;
        const addrField = document.getElementById('address');
        addrField.value = "üìç GPS: " + mapUrl + "\n" + addrField.value;
        alert("‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
      }, function() {
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î GPS ‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå");
      }, { enableHighAccuracy: true });
    }
  }

  // --- 4. Submit Handling ---
  document.getElementById('submitBtn').addEventListener('click', async () => {
    const btn = document.getElementById('submitBtn');
    if(!document.getElementById('terms').checked) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
      return;
    }

    const fields = {
      name: document.getElementById('name').value.trim(),
      phone: document.getElementById('phone').value.trim(),
      address: document.getElementById('address').value.trim(),
      note: document.getElementById('note').value.trim(),
      service: document.getElementById('serviceType').value,
      weight: document.getElementById('weight').value,
      payment: document.getElementById('payment').value,
      date: document.getElementById('pickupDate').value,
      time: document.getElementById('pickupTime').value
    };

    if (!fields.name || !fields.phone || !fields.address || !fields.date) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà) ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
      return;
    }

    if (fields.phone.length < 10) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (10 ‡∏´‡∏•‡∏±‡∏Å)");
      return;
    }

    btn.disabled = true;
    btn.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";

    const message = `üß∫ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà (WashUpMan)\n\n` +
                    `üë§ ‡∏ä‡∏∑‡πà‡∏≠: ${fields.name}\n` +
                    `üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${fields.phone}\n` +
                    `üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${fields.date}\n` +
                    `‚è∞ ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤: ${fields.time}\n` +
                    `üíø ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£: ${fields.service}\n` +
                    `üèãüèº ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: ${fields.weight}\n` +
                    `üßæ ‡∏ä‡∏≥‡∏£‡∏∞: ${fields.payment}\n` +
                    `üìç ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${fields.address}\n` +
                    `üìù ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: ${fields.note || '-'}\n\n` +
                    `üì∏ *‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ñ‡∏∏‡∏á‡∏ú‡πâ‡∏≤‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö*`;

    try {
      if (liff.isInClient()) {
        await liff.sendMessages([{ type: 'text', text: message }]);
        alert("‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ WashUpMan ‡∏Ñ‡∏£‡∏±‡∏ö");
        liff.closeWindow();
      } else {
        alert("‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (Browser Mode):\n\n" + message);
        btn.disabled = false;
        btn.innerText = "‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á";
      }
    } catch (err) {
      alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + err.message);
      btn.disabled = false;
      btn.innerText = "‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á";
    }
  });

  main();
</script>

</body>
</html>
